<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="format-detection" content="telephone=no"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><link rel="icon" href="/images/icons/favicon-16x16.png?v=2.1.1" type="image/png" sizes="16x16"><link rel="icon" href="/images/icons/favicon-32x32.png?v=2.1.1" type="image/png" sizes="32x32"><meta name="description" content="To format a drive with the XFS file system make sure xfsprogs is installed, if not you can install xfsprogs from the repositories with the help of apt-get. root@ubuntu:~# apt-get install xfsprogs Befo">
<meta property="og:type" content="article">
<meta property="og:title" content="Format a Volume as XFS in Debian and Ubuntu">
<meta property="og:url" content="http://linhost.info/2012/08/format-a-volume-as-xfs-in-debian-and-ubuntu/index.html">
<meta property="og:site_name" content="Linhost.info">
<meta property="og:description" content="To format a drive with the XFS file system make sure xfsprogs is installed, if not you can install xfsprogs from the repositories with the help of apt-get. root@ubuntu:~# apt-get install xfsprogs Befo">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2012-08-04T05:19:11.000Z">
<meta property="article:modified_time" content="2020-08-09T09:07:53.846Z">
<meta property="article:author" content="Lven">
<meta property="article:tag" content="linux">
<meta property="article:tag" content="xfs">
<meta name="twitter:card" content="summary"><title>Format a Volume as XFS in Debian and Ubuntu | Linhost.info</title><link ref="canonical" href="http://linhost.info/2012/08/format-a-volume-as-xfs-in-debian-and-ubuntu/"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.12.1/css/all.min.css" type="text/css"><link rel="stylesheet" href="/css/index.css?v=2.1.1"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><script src="https://www.googletagmanager.com/gtag/js?id=UA-3282416-1" async=""></script><script>if (window.location.hostname !== 'localhost') {
  window.dataLayer = window.dataLayer || [];
  function gtag(){ dataLayer.push(arguments); }
  gtag('js', new Date());
  gtag('config', 'UA-3282416-1');
}</script><script>var Stun = window.Stun || {};
var CONFIG = {
  root: '/',
  algolia: undefined,
  fontIcon: {"prompt":{"success":"fas fa-check-circle","info":"fas fa-arrow-circle-right","warning":"fas fa-exclamation-circle","error":"fas fa-times-circle"},"copyBtn":"fas fa-copy"},
  sidebar: {"offsetTop":"20px","tocMaxDepth":6},
  header: {"enable":true,"showOnPost":true,"scrollDownIcon":false},
  postWidget: {"endText":true},
  nightMode: undefined,
  back2top: {"enable":true},
  codeblock: {"style":"default","highlight":"light","wordWrap":false},
  reward: false,
  fancybox: false,
  zoomImage: {"gapAside":"20px"},
  galleryWaterfall: undefined,
  lazyload: false,
  pjax: undefined,
  externalLink: {"icon":{"enable":true,"name":"fas fa-external-link-alt"}},
  shortcuts: undefined,
  prompt: {"copyButton":"Copy","copySuccess":"Copy Success","copyError":"Copy Error"},
  sourcePath: {"js":"js","css":"css","images":"images"},
};

window.CONFIG = CONFIG;</script><meta name="generator" content="Hexo 5.0.0"><link rel="alternate" href="/atom.xml" title="Linhost.info" type="application/atom+xml">
</head><body><div class="container" id="container"><header class="header" id="header"><div class="header-inner"><nav class="header-nav header-nav--fixed"><div class="header-nav-inner"><div class="header-nav-menubtn"><i class="fas fa-bars"></i></div><div class="header-nav-menu"></div></div></nav><div class="header-banner"><div class="header-banner-info"><div class="header-banner-info__title">Linhost.info</div><div class="header-banner-info__subtitle"></div></div></div></div></header><main class="main" id="main"><div class="main-inner"><div class="content-wrap" id="content-wrap"><div class="content" id="content"><!-- Just used to judge whether it is an article page--><div id="is-post"></div><div class="post"><header class="post-header"><h1 class="post-title">Format a Volume as XFS in Debian and Ubuntu</h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">Created</span><span class="post-meta-item__value">2012-08-03</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">Updated</span><span class="post-meta-item__value">2020-08-09</span></span></div></header><div class="post-body"><p>To format a drive with the XFS file system make sure xfsprogs is installed, if not you can install xfsprogs from the repositories with the help of apt-get.</p>
<p>root@ubuntu:~# apt-get install xfsprogs</p>
<p>Before you start partitioning and formatting drives make sure you have the right drive. We can list all available drives in the system with the help of the <em>ls</em> command.</p>
<p>root@ubuntu:~# ls /dev/sd*</p>
<p>/dev/sda  /dev/sda1  /dev/sda2  /dev/sda5  /dev/sdb  /dev/sdb1  /dev/sdc</p>
<p>In this installation I will format the drive <em>/sdc</em>, I know this because this is a blank drive with no partitions. Now we partition the drive with the help of fdisk. Fdisk can be scary if you have never used it before, in order to partition the drive use the commands below. Note: this will create one big partition, use the values inside the brackets [] as a guide.</p>
<p>root@ubuntu:~# fdisk /dev/sdb</p>
<p>Command (m for help): [n]<br>Partition type:<br>   p   primary (0 primary, 0 extended, 4 free)<br>   e   extended<br>Select (default p): [p]<br>Partition number (1-4, default 1): [1]<br>First sector (2048-335544319, default 2048): [press Enter]<br>Using default value 2048<br>Last sector, +sectors or +size{K,M,G} (2048-335544319, default 335544319): [press Enter]<br>Using default value 335544319</p>
<p>Command (m for help): [w]<br>The partition table has been altered!</p>
<p>Calling ioctl() to re-read partition table.<br>Syncing disks.</p>
<p>Because we installed xfsprogs we can make use of <em>mkfs.xfs</em> to format the partition we created in the step above. <em>-L</em> will label the drive as <em>media</em>.</p>
<p>root@ubuntu:~# mkfs.xfs -L media /dev/sdc1</p>
<p>Create a mount point.</p>
<p>root@ubuntu:/dev# mkdir /mnt/dat1</p>
<p>Mount the drive.</p>
<p>root@ubuntu:~# mount -t xfs /dev/sdc1 /mnt/dat1</p>
<p>Let’s check the newly mounted volume, visible at the bottom.</p>
<p>root@ubuntu:/dev# df -h</p>
<p>Filesystem      Size  Used Avail Use% Mounted on<br>/dev/sda1        50G  1.9G   46G   4% /<br>udev             80M  4.0K   80M   1% /dev<br>tmpfs            36M  272K   35M   1% /run<br>none            5.0M     0  5.0M   0% /run/lock<br>none             88M     0   88M   0% /run/shm<br>/dev/sdc1       160G   33M  160G   1% /mnt/dat1</p>
<p>To permanently mount the new volume every time the system boots you will need to edit and add a new entry to <em>/etc/fstab</em>. You can use the echo command to easily add the new entry.</p>
<p>root@ubuntu:# echo ‘/dev/sdc1 /mnt/dat1 xfs defaults 0 0’ &gt;&gt; /etc/fstab</p>
<p>Or manually add the entry below to fstab with the text editor of your choice.</p>
<p>/dev/sdc1 /mnt/dat1 xfs defaults 0 0</p>

        <h3 id="Conclusion"   >
          <a href="#Conclusion" class="heading-link"><i class="fas fa-link"></i></a>Conclusion</h3>
      <p>XFS is a good file system for those of us working with large files. If you have any questions leave a comment below.</p>
</div><footer class="post-footer"><div class="post-ending ending"><div class="ending__text">------ END ------</div></div><div class="post-copyright copyright"><div class="copyright-author"><span class="copyright-author__name">Author: </span><span class="copyright-author__value"><a href="http://linhost.info">Lven</a></span></div><div class="copyright-link"><span class="copyright-link__name">Link: </span><span class="copyright-link__value"><a href="http://linhost.info/2012/08/format-a-volume-as-xfs-in-debian-and-ubuntu/">http://linhost.info/2012/08/format-a-volume-as-xfs-in-debian-and-ubuntu/</a></span></div><div class="copyright-notice"><span class="copyright-notice__name">Copyright: </span><span class="copyright-notice__value">All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en" rel="external nofollow" target="_blank">BY-NC-SA</a> unless stating additionally</span></div></div><div class="post-tags"><span class="post-tags-item"><span class="post-tags-item__icon"><i class="fas fa-tag"></i></span><a class="post-tags-item__link" href="http://linhost.info/tags/linux/">linux</a></span><span class="post-tags-item"><span class="post-tags-item__icon"><i class="fas fa-tag"></i></span><a class="post-tags-item__link" href="http://linhost.info/tags/xfs/">xfs</a></span></div><nav class="post-paginator paginator"><div class="paginator-prev"><a class="paginator-prev__link" href="/2012/08/new-virtual-machines-nas4free/"><span class="paginator-prev__icon"><i class="fas fa-angle-left"></i></span><span class="paginator-prev__text">New Virtual Machines: NAS4Free</span></a></div><div class="paginator-next"><a class="paginator-next__link" href="/2012/07/windows-how-to-recover-deleted-files/"><span class="paginator-prev__text">Windows: How to Recover Deleted Files</span><span class="paginator-next__icon"><i class="fas fa-angle-right"></i></span></a></div></nav></footer></div></div></div><div class="sidebar-wrap" id="sidebar-wrap"><aside class="sidebar" id="sidebar"><div class="sidebar-nav"><span class="sidebar-nav-toc current">Catalog</span><span class="sidebar-nav-ov">Overview</span></div><section class="sidebar-toc"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#Conclusion"><span class="toc-number">1.</span> <span class="toc-text">
          Conclusion</span></a></li></ol></section><!-- ov = overview--><section class="sidebar-ov hide"><div class="sidebar-ov-author"><div class="sidebar-ov-author__avatar"><img class="sidebar-ov-author__avatar_img" src="/images/icons/stun-logo.svg" alt="avatar"></div><p class="sidebar-ov-author__text">hello world</p></div><div class="sidebar-ov-cc"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en" target="_blank" rel="noopener" data-popover="Creative Commons" data-popover-pos="up"><img src="/images/cc-by-nc-sa.svg"></a></div></section><div class="sidebar-reading"><div class="sidebar-reading-info"><span class="sidebar-reading-info__text">You have read </span><span class="sidebar-reading-info__num">0</span></div><div class="sidebar-reading-line"></div></div></aside></div><div class="clearfix"></div></div></main><footer class="footer" id="footer"><div class="footer-inner"><div><span>Copyright © 2020</span><span class="footer__icon"><i class="fas fa-heart"></i></span><span>Lven</span></div><div><span>Powered by <a href="http://hexo.io/" title="Hexo" target="_blank" rel="noopener">Hexo</a></span></div></div></footer><div class="loading-bar" id="loading-bar"><div class="loading-bar__progress"></div></div><div class="back2top" id="back2top"><span class="back2top__icon"><i class="fas fa-rocket"></i></span></div></div><script src="https://cdn.jsdelivr.net/npm/jquery@v3.4.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.2/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.2/velocity.ui.min.js"></script><script src="/js/utils.js?v=2.1.1"></script><script src="/js/stun-boot.js?v=2.1.1"></script><script src="/js/scroll.js?v=2.1.1"></script><script src="/js/header.js?v=2.1.1"></script><script src="/js/sidebar.js?v=2.1.1"></script></body></html>