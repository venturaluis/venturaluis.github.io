<!DOCTYPE html>
<html lang="en">

<head>

  <!-- Minima -->
  <!-- Hexo theme created by @adisaktijrs -->

  <!-- Basic Page Needs
  ‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì -->
  <meta charset="utf-8">

  
  <title>Recover deleted or formated data with PhotoRec</title>
  
  <link rel="sitemap" href="http://linhost.infositemap.xml" />
  
  <link rel="canonical" href="http://linhost.info/2009/01/recover-erased-or-formated-data-with-photorec/">
  
  <meta name="description" content="Last updated : 01/04/09  Accidents happen for example a Flash drive that might have been accidentally formatted or certain files erased from a hard dr">
  
  
  <meta name="author" content="">
  
  <meta property="og:image" content="http://linhost.infoundefined">
  
  <meta property="og:site_name" content="Linhost.info" />
  <meta property="og:type" content="article" />
  <meta property="og:title" content="Recover deleted or formated data with PhotoRec" />
  
  <meta property="og:description" content="Last updated : 01/04/09  Accidents happen for example a Flash drive that might have been accidentally formatted or certain files erased from a hard dr">
  
  <meta property="og:url" content="http://linhost.info/2009/01/recover-erased-or-formated-data-with-photorec/" />

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Recover deleted or formated data with PhotoRec">
  
  <meta name="twitter:description" content="Last updated : 01/04/09  Accidents happen for example a Flash drive that might have been accidentally formatted or certain files erased from a hard dr">
  
  
  <meta name="twitter:image" content="http://linhost.infoundefined">
  
  <meta name="twitter:url" content="http://linhost.info/2009/01/recover-erased-or-formated-data-with-photorec/" />

  <!-- Mobile Specific Metas
  ‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì -->
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Preload fonts
  ‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì -->
  <link rel="preload" href="../fonts/dm-serif-display-v4-latin-regular.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="../fonts/inter-v2-latin-regular.woff2" as="font" type="font/woff2" crossorigin>

  <!-- CSS
  ‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì -->
  
<link rel="stylesheet" href="/css/normalize.css">

  
<link rel="stylesheet" href="/css/skeleton.css">

  
<link rel="stylesheet" href="/css/custom.css">

  
<link rel="stylesheet" href="/css/prism-dark.css">

  
<link rel="stylesheet" href="/css/prism-line-numbers.css">

  <!-- User css -->
  
  
<link rel="stylesheet" href="/css/user.css">

  

  <!-- Favicon
  ‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì -->
  <link rel="icon" type="image/png" href="/images/favicon.png">

  <!-- Custom Theme Color Style
  ‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì -->
  <style>
  a:not(.icon) {
    text-decoration-color: #0FA0CE;
    background-image: linear-gradient(
      to bottom,
      rgba(0, 0, 0, 0) 50%,
      #0FA0CE 50%
    );
  }
  blockquote {
    border-left: 8px solid #0FA0CE;
  }
  .nanobar .bar {
    background: #0FA0CE;
  }
  .button.button-primary:hover,
  button.button-primary:hover,
  input[type="submit"].button-primary:hover,
  input[type="reset"].button-primary:hover,
  input[type="button"].button-primary:hover,
  .button.button-primary:focus,
  button.button-primary:focus,
  input[type="submit"].button-primary:focus,
  input[type="reset"].button-primary:focus,
  input[type="button"].button-primary:focus {
    background-color: #0FA0CE;
    border-color: #0FA0CE;
  }
  input[type="email"]:focus,
  input[type="number"]:focus,
  input[type="search"]:focus,
  input[type="text"]:focus,
  input[type="tel"]:focus,
  input[type="url"]:focus,
  input[type="password"]:focus,
  textarea:focus,
  select:focus {
    border: 1px solid #0FA0CE;
  }
</style>

  <!-- Google Analytics (With Privacy Settings On)
  ‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì -->
  
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    /* Prepare GA Session, disable cookies to protect privacy */
    ga("create", "UA-3282416-1", {storage: "none",});
    /* Privacy settings - not tracking anything personal */
    ga("set", "allowAdFeatures", false);
    ga("set", "anonymizeIp", true);
    ga("set", "forceSSL", true);
    /* Send simple anonymized pageview */
    ga("send", "pageview");
  </script>


<meta name="generator" content="Hexo 5.0.0"><link rel="alternate" href="/atom.xml" title="Linhost.info" type="application/atom+xml">
</head>

<body>
  <div class="container">
    <div class="row">
      <div>

        <div class="row">
  <div class="two columns" style="max-width: 50px">
    <h1 class="mt-2 mode">
      <div onclick=setDarkMode(true) id="darkBtn">üåë</div>
      <div onclick=setDarkMode(false) id="lightBtn" class=hidden>‚òÄÔ∏è</div>
      <script >
        if (localStorage.getItem('preferredTheme') == 'dark') {
          setDarkMode(true)
        }
        function setDarkMode(isDark) {
          var darkBtn = document.getElementById('darkBtn')
          var lightBtn = document.getElementById('lightBtn')
          if (isDark) {
            lightBtn.style.display = "block"
            darkBtn.style.display = "none"
            localStorage.setItem('preferredTheme', 'dark');
          } else {
            lightBtn.style.display = "none"
            darkBtn.style.display = "block"
            localStorage.removeItem('preferredTheme');
          }
          document.body.classList.toggle("darkmode");
        }
      </script>
    </h1>
  </div>

  <div class="six columns ml-1">
    <h1 class="mt-2">
      Linhost.info
    </h1>
  </div>

  <div class="twelve columns">
    <div class="row">
      <div class="nine columns left">
        <a href="/">Home</a>
        
          
          <a href="/" class="ml">Home</a>
          
        
          
          <a href="/VM" class="ml">VM</a>
          
        
        
      </div>
    </div>
    <hr style="margin-bottom: 2.6rem">
  </div>
</div>

        <div class="trans">
            <h2>Recover deleted or formated data with PhotoRec</h2>

  <p><strong>Last updated : 01/04/09</strong></p>
<p><img src="http://www.cgsecurity.org/photorec_logo.png"></p>
<p>Accidents happen for example a Flash drive that might have been accidentally formatted or certain files erased from a hard drive. The good news is that as long as the data is not overwritten there is a high margin for a successful recovery. After all the recycle bin is not a secure way of destroying data by any standards. For this article I will be using <strong>PhotoRec</strong> by <a target="_blank" rel="noopener" href="http://www.cgsecurity.org/wiki/Main_Page">CG Security</a>, Photorec has many advantages for example it‚Äôs open source, cross platform, configurable and is relatively light while operating. The entire operation will take some time depending in size of the drive to be inspected. Do not expect the files to recovered with the original file name, instead Photorec will assign them a number. The output data should be stored on a second drive, don‚Äôt even think about about using the same drive. The recovery technique I use is called <strong>Data Carving</strong>, I‚Äôll let the collective knowledge explain what it means. <em>Data Carving is a data recovery technique that allows for data with no file system allocation information to be extracted by identifying sectors and clusters belonging to the file. Data Carving usually searches through raw sectors looking for specific desired file signatures. The fact that there is no allocation information means that the investigator must specify a block size of data to carve out upon finding a matching file signature. This presents the challenge that the beginning of the file is still present and that there is (depending on how common the file signature is) a risk of many false hits. Also, data carving requires that the files recovered be located in sequential sectors (rather than fragmented) as there is no allocation information to point to fragmented file portions. This method can be time and resource intensive.</em> <a target="_blank" rel="noopener" href="http://en.wikipedia.org/wiki/Data_recovery">Excerpt from Wikipedia</a></p>
<h2 id="Download-PhotoRec-from-CGSecurtity"><a href="#Download-PhotoRec-from-CGSecurtity" class="headerlink" title="Download PhotoRec from CGSecurtity"></a>Download PhotoRec from CGSecurtity</h2><p>PhotoRec is part of the TestDisk Suite. <a target="_blank" rel="noopener" href="http://www.cgsecurity.org/wiki/PhotoRec">http://www.cgsecurity.org/wiki/PhotoRec</a></p>
<h2 id="Step-1"><a href="#Step-1" class="headerlink" title="Step 1"></a>Step 1</h2><p>After PhotoRec starts you will be presented with all the drives PhotoRec was able to detect. For demonstration purposes I will be using a 2 GB flash drive.</p>
<p>Disk /dev/sdb - 2097 MB / 1999 MiB (RO) - OCZ ET1208AD</p>
<p>And press enter to proceed. <img src="http://lh3.ggpht.com/_fF0LO28FGYY/SV8HzictFtI/AAAAAAAAAWU/A3nNWgE7d0c/s800/001.jpg"></p>
<h2 id="Step-2"><a href="#Step-2" class="headerlink" title="Step 2"></a>Step 2</h2><p>Select the partition table in my case it‚Äôs.</p>
<p>[ Intel ] intel/PC partition</p>
<p><img src="http://lh3.ggpht.com/_fF0LO28FGYY/SV8H2xE8U8I/AAAAAAAAAWY/tit9tbP7CNw/s800/002.jpg"></p>
<h2 id="Step-3"><a href="#Step-3" class="headerlink" title="Step 3"></a>Step 3</h2><p>In this case I want to inspect the whole disk for data.</p>
<p>D No partition        0    0    1    254 245 54  4095999 [Whole disk]</p>
<p><img src="http://lh3.ggpht.com/_fF0LO28FGYY/SV8H6gzZw3I/AAAAAAAAAWc/7u-sgOvCrGM/s800/003.jpg"></p>
<h2 id="Step-4"><a href="#Step-4" class="headerlink" title="Step 4"></a>Step 4</h2><p>If you noticed in the bottom of the terminal you are also presented with the following options.</p>
<p>[Options]  [File Opt]</p>
<p>You can select <strong>[Options]</strong> or <strong>[File Opt]</strong> to see the available file extensions that PhotoRec can recover, you can also unchecked the file extensions you don‚Äôt want to recover. Or configure how persistent PhotoRec should be. <img src="http://lh5.ggpht.com/_fF0LO28FGYY/SV8H-a-EHlI/AAAAAAAAAWg/Rm8kmBkuyXc/s800/004.jpg"> <img src="http://lh4.ggpht.com/_fF0LO28FGYY/SV8IBnXKfoI/AAAAAAAAAWk/mGDQwuAEox4/s800/005.jpg"></p>
<h2 id="Step-5"><a href="#Step-5" class="headerlink" title="Step 5"></a>Step 5</h2><p>Now specify the file system on which PhotoRec will attempt to recover the data from. My USB drive was formatted to FAT32.</p>
<p>[ Other ]    FAT/NTFS/HFS+/ReiserFS/‚Ä¶</p>
<p><img src="http://lh3.ggpht.com/_fF0LO28FGYY/SV8IHkWdWfI/AAAAAAAAAWo/N6SoondG-Xk/s800/006.jpg"></p>
<h2 id="Step-6"><a href="#Step-6" class="headerlink" title="Step 6"></a>Step 6</h2><p>PhotoRec is now presenting you with the option of choosing the default output directory <strong>/home/user</strong> or your own directory. You might want to create a directory just for the recovery which is usually spread across several directories. <img src="http://lh3.ggpht.com/_fF0LO28FGYY/SV8IKx9gizI/AAAAAAAAAWs/PK2oG0j0ftU/s800/007.jpg"></p>
<h2 id="Step-7"><a href="#Step-7" class="headerlink" title="Step 7"></a>Step 7</h2><p>After selecting the output directory the recovery process will start, PhotoRec will let you know of the remaining time and number of files found. <img src="http://lh6.ggpht.com/_fF0LO28FGYY/SV8IO_grNjI/AAAAAAAAAWw/rrUC4DY99xQ/s800/008.jpg"> The recovery process is done. All recovered files are enumerated. <img src="http://lh3.ggpht.com/_fF0LO28FGYY/SV8IR_SMeaI/AAAAAAAAAW0/APSkNT0zDJQ/s800/009.jpg"></p>
<h2 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h2><p>Example of the recovery, all data is spread across multiple directories. The recovered files are renamed. <img src="http://lh4.ggpht.com/_fF0LO28FGYY/SV8IVvauYPI/AAAAAAAAAW4/Lrn67GyqeyA/s800/010.jpg"> <img src="http://lh3.ggpht.com/_fF0LO28FGYY/SV8IaGm7k7I/AAAAAAAAAW8/xedgooB9-CY/s800/011.jpg"> Not all is lost sometimes most of the data can be recovered. Keep in mind some media files may be beyond recovery. Always back up your data and there will be no need for a recovery, otherwise I hope this article helps. <a target="_blank" rel="noopener" href="http://en.wikipedia.org/wiki/Data_recovery">http://en.wikipedia.org/wiki/Data_recovery</a></p>

  <p><a class="classtest-link" href="/tags/photorec/" rel="tag">photorec</a>, <a class="classtest-link" href="/tags/recovery/" rel="tag">recovery</a> ‚Äî Jan 3, 2009</p>
  


          <div class="row mt-2">
  
</div>

        </div>
      </div>

    </div>

  </div>
  <script src="/js/nanobar.min.js"></script>
  <script>
    var options = {
      classname: 'nanobar',
      id: 'myNanobar'
    };
    var nanobar = new Nanobar(options);
    nanobar.go(30);
    nanobar.go(76);
    nanobar.go(100);
  </script>

</body>

</html>
