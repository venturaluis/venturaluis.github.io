<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-3282416-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


  
  <title>Recover deleted or formated data with PhotoRec | Linhost.info</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Last updated : 01&#x2F;04&#x2F;09  Accidents happen for example a Flash drive that might have been accidentally formatted or certain files erased from a hard drive. The good news is that as long as the data is">
<meta property="og:type" content="article">
<meta property="og:title" content="Recover deleted or formated data with PhotoRec">
<meta property="og:url" content="http://linhost.info/2009/01/recover-erased-or-formated-data-with-photorec/index.html">
<meta property="og:site_name" content="Linhost.info">
<meta property="og:description" content="Last updated : 01&#x2F;04&#x2F;09  Accidents happen for example a Flash drive that might have been accidentally formatted or certain files erased from a hard drive. The good news is that as long as the data is">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://www.cgsecurity.org/photorec_logo.png">
<meta property="og:image" content="http://lh3.ggpht.com/_fF0LO28FGYY/SV8HzictFtI/AAAAAAAAAWU/A3nNWgE7d0c/s800/001.jpg">
<meta property="og:image" content="http://lh3.ggpht.com/_fF0LO28FGYY/SV8H2xE8U8I/AAAAAAAAAWY/tit9tbP7CNw/s800/002.jpg">
<meta property="og:image" content="http://lh3.ggpht.com/_fF0LO28FGYY/SV8H6gzZw3I/AAAAAAAAAWc/7u-sgOvCrGM/s800/003.jpg">
<meta property="og:image" content="http://lh5.ggpht.com/_fF0LO28FGYY/SV8H-a-EHlI/AAAAAAAAAWg/Rm8kmBkuyXc/s800/004.jpg">
<meta property="og:image" content="http://lh4.ggpht.com/_fF0LO28FGYY/SV8IBnXKfoI/AAAAAAAAAWk/mGDQwuAEox4/s800/005.jpg">
<meta property="og:image" content="http://lh3.ggpht.com/_fF0LO28FGYY/SV8IHkWdWfI/AAAAAAAAAWo/N6SoondG-Xk/s800/006.jpg">
<meta property="og:image" content="http://lh3.ggpht.com/_fF0LO28FGYY/SV8IKx9gizI/AAAAAAAAAWs/PK2oG0j0ftU/s800/007.jpg">
<meta property="og:image" content="http://lh6.ggpht.com/_fF0LO28FGYY/SV8IO_grNjI/AAAAAAAAAWw/rrUC4DY99xQ/s800/008.jpg">
<meta property="og:image" content="http://lh3.ggpht.com/_fF0LO28FGYY/SV8IR_SMeaI/AAAAAAAAAW0/APSkNT0zDJQ/s800/009.jpg">
<meta property="og:image" content="http://lh4.ggpht.com/_fF0LO28FGYY/SV8IVvauYPI/AAAAAAAAAW4/Lrn67GyqeyA/s800/010.jpg">
<meta property="og:image" content="http://lh3.ggpht.com/_fF0LO28FGYY/SV8IaGm7k7I/AAAAAAAAAW8/xedgooB9-CY/s800/011.jpg">
<meta property="article:published_time" content="2009-01-03T23:43:14.000Z">
<meta property="article:modified_time" content="2020-08-09T09:07:53.377Z">
<meta property="article:tag" content="photorec">
<meta property="article:tag" content="recovery">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://www.cgsecurity.org/photorec_logo.png">
  
    <link rel="alternate" href="/atom.xml" title="Linhost.info" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link href="https://fonts.googleapis.com/css?family=Noto+Sans+KR:100,300,400,700&amp;subset=korean" rel="stylesheet">
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 5.0.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <!--<div id="banner"></div>-->
  <div id="header-outer" class="outer">
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        <a href="/" id="main-nav-title" class="main-nav-link">Linhost.info</a>
        
      </nav>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-recover-erased-or-formated-data-with-photorec" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Article/">Article</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Recover deleted or formated data with PhotoRec
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Last updated : 01/04/09</strong></p>
<p><img src="http://www.cgsecurity.org/photorec_logo.png"></p>
<p>Accidents happen for example a Flash drive that might have been accidentally formatted or certain files erased from a hard drive. The good news is that as long as the data is not overwritten there is a high margin for a successful recovery. After all the recycle bin is not a secure way of destroying data by any standards. For this article I will be using <strong>PhotoRec</strong> by <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="http://www.cgsecurity.org/wiki/Main_Page" >CG Security</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>, Photorec has many advantages for example it’s open source, cross platform, configurable and is relatively light while operating. The entire operation will take some time depending in size of the drive to be inspected. Do not expect the files to recovered with the original file name, instead Photorec will assign them a number. The output data should be stored on a second drive, don’t even think about about using the same drive. The recovery technique I use is called <strong>Data Carving</strong>, I’ll let the collective knowledge explain what it means. <em>Data Carving is a data recovery technique that allows for data with no file system allocation information to be extracted by identifying sectors and clusters belonging to the file. Data Carving usually searches through raw sectors looking for specific desired file signatures. The fact that there is no allocation information means that the investigator must specify a block size of data to carve out upon finding a matching file signature. This presents the challenge that the beginning of the file is still present and that there is (depending on how common the file signature is) a risk of many false hits. Also, data carving requires that the files recovered be located in sequential sectors (rather than fragmented) as there is no allocation information to point to fragmented file portions. This method can be time and resource intensive.</em> <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="http://en.wikipedia.org/wiki/Data_recovery" >Excerpt from Wikipedia</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></p>

        <h2 id="Download-PhotoRec-from-CGSecurtity"   >
          <a href="#Download-PhotoRec-from-CGSecurtity" class="heading-link"><i class="fas fa-link"></i></a>Download PhotoRec from CGSecurtity</h2>
      <p>PhotoRec is part of the TestDisk Suite. <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="http://www.cgsecurity.org/wiki/PhotoRec" >http://www.cgsecurity.org/wiki/PhotoRec</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></p>

        <h2 id="Step-1"   >
          <a href="#Step-1" class="heading-link"><i class="fas fa-link"></i></a>Step 1</h2>
      <p>After PhotoRec starts you will be presented with all the drives PhotoRec was able to detect. For demonstration purposes I will be using a 2 GB flash drive.</p>
<p>Disk /dev/sdb - 2097 MB / 1999 MiB (RO) - OCZ ET1208AD</p>
<p>And press enter to proceed. <img src="http://lh3.ggpht.com/_fF0LO28FGYY/SV8HzictFtI/AAAAAAAAAWU/A3nNWgE7d0c/s800/001.jpg"></p>

        <h2 id="Step-2"   >
          <a href="#Step-2" class="heading-link"><i class="fas fa-link"></i></a>Step 2</h2>
      <p>Select the partition table in my case it’s.</p>
<p>[ Intel ] intel/PC partition</p>
<p><img src="http://lh3.ggpht.com/_fF0LO28FGYY/SV8H2xE8U8I/AAAAAAAAAWY/tit9tbP7CNw/s800/002.jpg"></p>

        <h2 id="Step-3"   >
          <a href="#Step-3" class="heading-link"><i class="fas fa-link"></i></a>Step 3</h2>
      <p>In this case I want to inspect the whole disk for data.</p>
<p>D No partition        0    0    1    254 245 54  4095999 [Whole disk]</p>
<p><img src="http://lh3.ggpht.com/_fF0LO28FGYY/SV8H6gzZw3I/AAAAAAAAAWc/7u-sgOvCrGM/s800/003.jpg"></p>

        <h2 id="Step-4"   >
          <a href="#Step-4" class="heading-link"><i class="fas fa-link"></i></a>Step 4</h2>
      <p>If you noticed in the bottom of the terminal you are also presented with the following options.</p>
<p>[Options]  [File Opt]</p>
<p>You can select <strong>[Options]</strong> or <strong>[File Opt]</strong> to see the available file extensions that PhotoRec can recover, you can also unchecked the file extensions you don’t want to recover. Or configure how persistent PhotoRec should be. <img src="http://lh5.ggpht.com/_fF0LO28FGYY/SV8H-a-EHlI/AAAAAAAAAWg/Rm8kmBkuyXc/s800/004.jpg"> <img src="http://lh4.ggpht.com/_fF0LO28FGYY/SV8IBnXKfoI/AAAAAAAAAWk/mGDQwuAEox4/s800/005.jpg"></p>

        <h2 id="Step-5"   >
          <a href="#Step-5" class="heading-link"><i class="fas fa-link"></i></a>Step 5</h2>
      <p>Now specify the file system on which PhotoRec will attempt to recover the data from. My USB drive was formatted to FAT32.</p>
<p>[ Other ]    FAT/NTFS/HFS+/ReiserFS/…</p>
<p><img src="http://lh3.ggpht.com/_fF0LO28FGYY/SV8IHkWdWfI/AAAAAAAAAWo/N6SoondG-Xk/s800/006.jpg"></p>

        <h2 id="Step-6"   >
          <a href="#Step-6" class="heading-link"><i class="fas fa-link"></i></a>Step 6</h2>
      <p>PhotoRec is now presenting you with the option of choosing the default output directory <strong>/home/user</strong> or your own directory. You might want to create a directory just for the recovery which is usually spread across several directories. <img src="http://lh3.ggpht.com/_fF0LO28FGYY/SV8IKx9gizI/AAAAAAAAAWs/PK2oG0j0ftU/s800/007.jpg"></p>

        <h2 id="Step-7"   >
          <a href="#Step-7" class="heading-link"><i class="fas fa-link"></i></a>Step 7</h2>
      <p>After selecting the output directory the recovery process will start, PhotoRec will let you know of the remaining time and number of files found. <img src="http://lh6.ggpht.com/_fF0LO28FGYY/SV8IO_grNjI/AAAAAAAAAWw/rrUC4DY99xQ/s800/008.jpg"> The recovery process is done. All recovered files are enumerated. <img src="http://lh3.ggpht.com/_fF0LO28FGYY/SV8IR_SMeaI/AAAAAAAAAW0/APSkNT0zDJQ/s800/009.jpg"></p>

        <h2 id="Output"   >
          <a href="#Output" class="heading-link"><i class="fas fa-link"></i></a>Output</h2>
      <p>Example of the recovery, all data is spread across multiple directories. The recovered files are renamed. <img src="http://lh4.ggpht.com/_fF0LO28FGYY/SV8IVvauYPI/AAAAAAAAAW4/Lrn67GyqeyA/s800/010.jpg"> <img src="http://lh3.ggpht.com/_fF0LO28FGYY/SV8IaGm7k7I/AAAAAAAAAW8/xedgooB9-CY/s800/011.jpg"> Not all is lost sometimes most of the data can be recovered. Keep in mind some media files may be beyond recovery. Always back up your data and there will be no need for a recovery, otherwise I hope this article helps. <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="http://en.wikipedia.org/wiki/Data_recovery" >http://en.wikipedia.org/wiki/Data_recovery</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://linhost.info/2009/01/recover-erased-or-formated-data-with-photorec/" data-id="ckitzbgiu00m37nfxd5dyc8je" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/photorec/" rel="tag">photorec</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/recovery/" rel="tag">recovery</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2009/01/how-to-use-wget/" id="article-nav-newer" class="article-nav-link-wrap">
      <span class="article-nav-caption">Newer</span>
      <div class="article-nav-title">
        
          Wget command list
        
      </div>
    </a>
  
  
    <a href="/2009/01/open-source-tools-i-cant-work-without/" id="article-nav-older" class="article-nav-link-wrap">
      <span class="article-nav-caption">Older</span>
      <div class="article-nav-title">Open source tools I can&#39;t work without</div>
    </a>
  
</nav>

  
</article>

</section>
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 Linhost.info<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> with 
      theme_by <a href="http://hexo.io/" target="_blank">mango</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>