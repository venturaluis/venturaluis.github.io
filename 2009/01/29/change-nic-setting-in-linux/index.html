<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title>Change NIC setting in Linux | Linhost.info</title><meta name="description" content="Change NIC setting in Linux - Moody Gent"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/theme.css"><link rel="search" type="application/opensearchdescription+xml" href="/atom.xml" title="Linhost.info"><meta name="generator" content="Hexo 5.0.0"><link rel="alternate" href="/atom.xml" title="Linhost.info" type="application/atom+xml">
</head><body><div class="wrap"><header><h1 class="branding"><a href="/" title="Linhost.info">Linhost.info</a></h1><ul class="nav nav-list"><li class="nav-list-item"><a class="nav-list-link" href="/" target="_self">HOME</a></li><li class="nav-list-item"><a class="nav-list-link" href="/archives" target="_self">ARCHIVES</a></li><li class="nav-list-item"><a class="nav-list-link" href="https://github.com/Dreyer" target="_blank">GITHUB</a></li><li class="nav-list-item"><a class="nav-list-link" href="/atom.xml" target="_self">RSS</a></li><li class="nav-list-item"><a class="nav-list-link" href="/VM" target="_self">VM</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">Change NIC setting in Linux</h1><div class="post-info"><a></a>2009-01-29</div><div class="post-content"><p>If you ever find your self in need of changing or setting different parameters on a network interface then you need to install <strong>Ethtool</strong>. Basically you can set the duplex on a network interface and link speed among many other things. Do not dismiss Ethtool, I have found it to be useful for configuring Linux devices that need to be linked to legacy networking devices or some network related funkiness that results in auto-negotiation not working. In order to use Ethtool you need to have root. <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="http://gd.tuwien.ac.at/linuxcommand.org/man_pages/ethtool8.html" >Ethtool man page</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></p>

        <h4 id="Basic-use"   >
          <a href="#Basic-use" class="heading-link"><i class="fas fa-link"></i></a>Basic use</h4>
      <p>Ethtool can output detailed information about the NIC. Here you can see all the supported link modes and current settings.</p>
<p>ethtool eth0</p>
<p>Output.</p>
<p>Settings for eth0:<br>    Supported ports: [ TP MII ]<br>    Supported link modes:   10baseT/Half 10baseT/Full<br>                            100baseT/Half 100baseT/Full<br>    Supports auto-negotiation: Yes<br>    Advertised link modes:  10baseT/Half 10baseT/Full<br>                            100baseT/Half 100baseT/Full<br>    Advertised auto-negotiation: Yes<br>    Speed: 100Mb/s<br>    Duplex: Full<br>    Port: MII<br>    PHYAD: 1<br>    Transceiver: internal<br>    Auto-negotiation: on<br>    Supports Wake-on: g<br>    Wake-on: g<br>    Current message level: 0x00000007 (7)<br>    Link detected: yes</p>

        <h4 id="Tip"   >
          <a href="#Tip" class="heading-link"><i class="fas fa-link"></i></a>Tip</h4>
      <p>To display the available options use.</p>
<p>ethtool -h</p>
<p>Ethtool is by no means limited, but this are some of the common options I use.</p>
<ul>
<li>full speed <strong>10</strong> | <strong>100</strong> | <strong>1000</strong></li>
<li>duplex <strong>half</strong> | <strong>full</strong></li>
<li>autoneg <strong>on</strong> | <strong>off</strong></li>
</ul>

        <h4 id="Working-examples"   >
          <a href="#Working-examples" class="heading-link"><i class="fas fa-link"></i></a>Working examples</h4>
      <p>Some networking devices have a difficult time auto-negotiating with other network devices, mostly legacy devices that only support half duplex like hubs. On this example eth0 is configured to work at <strong>half duplex</strong> and turn <strong>auto-negotiation off</strong>.</p>
<p>ethtool -s eth0 duplex half autoneg off</p>
<p>In this example the interface is force to work at <strong>full duplex</strong>, turn <strong>auto-negotiation</strong> off and set the <strong>speed</strong> to 1000 Mb/s.</p>
<p>ethtool -s eth0 duplex full speed 1000 autoneg off</p>
<p>Ethtool is by no means difficult to use, itâ€™s mostly about matching the desired settings. I recommend you click the link located at the top of the article to to learn more about Ethtool.</p>
</div></article></div></main><footer><div class="paginator"><a class="prev" href="/2009/02/02/encrypt-files-with-gpg-on-linux/">prev</a><a class="next" href="/2009/01/23/drm-flawed-technology-only-works-on-the-executives-minds/">next</a></div><div class="copyright"><p>&copy; 2016 - 2020 <a target="_blank" rel="noopener" href="https://www.example.org/john-doe">John Doe</a>.<br>Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> &amp; <a href="https://github.com/Dreyer/hexo-theme-artemis" target="_blank">Artemis</a>.</p></div></footer></div><script>var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-12345678-9']);
_gaq.push(['_trackPageview']);

(function () {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();</script></body></html>