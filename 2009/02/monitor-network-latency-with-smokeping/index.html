<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-3282416-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


  
  <title>Monitor network latency with SmokePing | Linhost.info</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="If you have ever manage network devices over long distance or even in a local area network you might want to keep an eye on the health of the network and the links they operate on. That’s a very good">
<meta property="og:type" content="article">
<meta property="og:title" content="Monitor network latency with SmokePing">
<meta property="og:url" content="http://linhost.info/2009/02/monitor-network-latency-with-smokeping/index.html">
<meta property="og:site_name" content="Linhost.info">
<meta property="og:description" content="If you have ever manage network devices over long distance or even in a local area network you might want to keep an eye on the health of the network and the links they operate on. That’s a very good">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://lh6.ggpht.com/_fF0LO28FGYY/SYPWE44LKfI/AAAAAAAAAa8/hDqzUnuQssY/s800/serv_config.png">
<meta property="og:image" content="http://lh5.ggpht.com/_fF0LO28FGYY/SYPWFDbRhKI/AAAAAAAAAbE/pYiG4lGdXX0/s800/loc_site.png">
<meta property="og:image" content="http://lh3.ggpht.com/_fF0LO28FGYY/SYPWFDCTYrI/AAAAAAAAAbM/RrCtGVs8bto/s800/rem_site.png">
<meta property="og:image" content="http://lh6.ggpht.com/_fF0LO28FGYY/SYdrDwDT-sI/AAAAAAAAAbs/nAJhYn7rQA0/s800/smokeping_resize.png">
<meta property="article:published_time" content="2009-02-05T05:01:26.000Z">
<meta property="article:modified_time" content="2020-08-09T09:07:53.396Z">
<meta property="article:tag" content="network">
<meta property="article:tag" content="smokeping">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://lh6.ggpht.com/_fF0LO28FGYY/SYPWE44LKfI/AAAAAAAAAa8/hDqzUnuQssY/s800/serv_config.png">
  
    <link rel="alternate" href="/atom.xml" title="Linhost.info" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link href="https://fonts.googleapis.com/css?family=Noto+Sans+KR:100,300,400,700&amp;subset=korean" rel="stylesheet">
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 5.0.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <!--<div id="banner"></div>-->
  <div id="header-outer" class="outer">
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        <a href="/" id="main-nav-title" class="main-nav-link">Linhost.info</a>
        
      </nav>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-monitor-network-latency-with-smokeping" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Article/">Article</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Monitor network latency with SmokePing
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>If you have ever manage network devices over long distance or even in a local area network you might want to keep an eye on the health of the network and the links they operate on. That’s a very good reason for using <strong>SmokePing</strong> on the network, SmokePing can graph over time the latency experienced by the probe. In the long run network monitoring can help identify trouble points or areas of interest. If you are paying for a T1 then you should get your moneys worth. There is nothing worse than having little or no data to troubleshoot network problems.</p>
<h4 id="SmokePing-overview"><a href="#SmokePing-overview" class="headerlink" title="SmokePing overview"></a>SmokePing overview</h4><p>SmokePing generates graphs over time that show vital network information about the quality of the selected link being monitored by the probe. SmokePing can be easily configured to monitor multiple sites at the same time and show the specific time in which the link experienced unusual activity. It’s common knowledge that high latency will result on poor network performance. Prior to the installation you should have a full functional web server installed.</p>
<h4 id="Examples"><a href="#Examples" class="headerlink" title="Examples"></a>Examples</h4><ul>
<li>Monitor the latency of the OpenDNS servers and make an informed decision on whether they are or not in your best interest.</li>
<li>Monitor links from the central office to the remote office. Constant and unusual high levels of latency may indicate a problem with the ISP.</li>
<li>Servers become unreachable during certain periods of the day. With the data log by the probe you can pin point the time of failure (disconnection).</li>
</ul>
<h4 id="SmokePing-installation-on-Ubuntu"><a href="#SmokePing-installation-on-Ubuntu" class="headerlink" title="SmokePing installation on Ubuntu"></a>SmokePing installation on Ubuntu</h4><p>SmokePing is available in the Ubuntu repositories. For Debian based Distributions you can use Apt-Get, installation may depend on you distribution.</p>
<p>sudo apt-get install smokeping</p>
<h4 id="SmokePing-configuration"><a href="#SmokePing-configuration" class="headerlink" title="SmokePing configuration"></a>SmokePing configuration</h4><p>The configuration file is located at <strong>/etc/smokeping/config</strong>. The configuration file I am using is organised to monitor two separate sites with multiple hosts. In real life this examples would represent the local site and the remote site. Copy of <a href="/download/code/config">SmokePing configuration file</a>. Open and edit.</p>
<p>sudo nano /etc/smokeping/config</p>
<p>To get SmokePing started let’s edit some of the basic options. I hope this is somewhat self explanatory, change the following values to match your server values.</p>
<ul>
<li>owner and contact</li>
<li>cgiurl</li>
<li>mailhost</li>
<li>to</li>
<li>from</li>
</ul>
<p><img src="http://lh6.ggpht.com/_fF0LO28FGYY/SYPWE44LKfI/AAAAAAAAAa8/hDqzUnuQssY/s800/serv_config.png"> Remember what I said about monitoring two separate sites, well one is the local area network (NETWORK1) and the other monitors colocated servers (NETWORK2). You can see the hierarchy “+++” represents the target host. Make changes as you see fit. In this case I am monitoring three network devices. Change the hostname to match your own, enter the IP address or domain name of the devices.</p>
<ul>
<li>++ NETWORK1 (Name of the network)</li>
<li>+++ LAN_ROUTER (Target host)</li>
</ul>
<p><img src="http://lh5.ggpht.com/_fF0LO28FGYY/SYPWFDbRhKI/AAAAAAAAAbE/pYiG4lGdXX0/s800/loc_site.png"> Same can be said about the second example (NETWORK2), again three network devices are being monitored. <img src="http://lh3.ggpht.com/_fF0LO28FGYY/SYPWFDCTYrI/AAAAAAAAAbM/RrCtGVs8bto/s800/rem_site.png"> After you are done with the changes save and restart SmokePing.</p>
<p>/etc/init.d/smokeping restart</p>
<p>Open your browser and go to the following address.</p>
<p><a target="_blank" rel="noopener" href="http://www.domain.com/cgi-bin/smokeping.cgi">http://www.domain.com/cgi-bin/smokeping.cgi</a></p>
<p><img src="http://lh6.ggpht.com/_fF0LO28FGYY/SYdrDwDT-sI/AAAAAAAAAbs/nAJhYn7rQA0/s800/smokeping_resize.png"> Give SmokePing some time to log the data. Try to experiment with the configuration file, but all try to keep the target host’s organized.</p>
<h4 id="References"><a href="#References" class="headerlink" title="References"></a>References</h4><p><a target="_blank" rel="noopener" href="http://oss.oetiker.ch/smokeping/doc/smokeping_examples.en.html">SmokePing examples.en.html</a> <a target="_blank" rel="noopener" href="http://oss.oetiker.ch/smokeping/">SmokePing web site</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://linhost.info/2009/02/monitor-network-latency-with-smokeping/" data-id="ckj2hf40100hjtlfx7hoshudo" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/network/" rel="tag">network</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/smokeping/" rel="tag">smokeping</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2009/02/free-book-ubuntu-pocket-guide-and-reference/" id="article-nav-newer" class="article-nav-link-wrap">
      <span class="article-nav-caption">Newer</span>
      <div class="article-nav-title">
        
          Ubuntu Pocket Guide (PDF download)
        
      </div>
    </a>
  
  
    <a href="/2009/02/encrypt-files-with-openssl/" id="article-nav-older" class="article-nav-link-wrap">
      <span class="article-nav-caption">Older</span>
      <div class="article-nav-title">Encrypt files with OpenSSL</div>
    </a>
  
</nav>

  
</article>

</section>
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 Linhost.info<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> with 
      theme_by <a href="http://hexo.io/" target="_blank">mango</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>