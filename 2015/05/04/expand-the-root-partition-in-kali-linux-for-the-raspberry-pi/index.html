<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!--Description-->
    
        <meta name="description" content="site, site">
    

    <!--Author-->
    
        <meta name="author" content="Moody Gent">
    

    <!--Open Graph Title-->
    
        <meta property="og:title" content="Expand the Root Partition in Kali Linux for the Raspberry Pi"/>
    

    <!--Open Graph Site Name-->
    <meta property="og:site_name" content="Linhost.info"/>

    <!--Page Cover-->
    
        <meta property="og:image" content=""/>
    

    <!-- Title -->
    
    <title>Expand the Root Partition in Kali Linux for the Raspberry Pi - Linhost.info</title>

    <!-- Custom CSS -->
    
<link rel="stylesheet" href="/sass/main.css">


    <!--[if lt IE 8]>
        
<script src="/js/ie/html5shiv.js"></script>

    <![endif]-->

    <!--[if lt IE 8]>
        
<link rel="stylesheet" href="/sass/ie8.css">

    <![endif]-->

    <!--[if lt IE 9]>
        
<link rel="stylesheet" href="/sass/ie9.css">

    <![endif]-->

    <!-- Gallery -->
    <link href="//cdn.rawgit.com/noelboss/featherlight/1.3.5/release/featherlight.min.css" type="text/css" rel="stylesheet" />

    <!-- Google Analytics -->
    
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-12345678-9', 'auto');
        ga('send', 'pageview');

    </script>



<meta name="generator" content="Hexo 5.0.0"><link rel="alternate" href="/atom.xml" title="Linhost.info" type="application/atom+xml">
</head>

<body>

    <div id="wrapper">

        <!-- Menu -->
        <!-- Header -->
<header id="header">
    <div class="inner">

        <!-- Logo -->
        <a href="/" class="logo">
            <span class="symbol"><img src="/images/logo.svg" alt="" /></span><span class="title">Linhost.info</span>
        </a>

        <!-- Nav -->
        <nav>
            <ul>
                <li><a href="#menu">Menu</a></li>
            </ul>
        </nav>

    </div>
</header>

<!-- Menu -->
<nav id="menu">
    <h2>Menu</h2>
    <ul>
        
            <li>
                <a href="/">Home</a>
            </li>
        
            <li>
                <a href="/archives">Archives</a>
            </li>
        
            <li>
                <a href="/about.html">About</a>
            </li>
        
            <li>
                <a href="/VM">VM</a>
            </li>
        
            <li>
                <a href="/atom.xml">RSS</a>
            </li>
        
    </ul>
</nav>


        <div id="main">
            <div class="inner">

                <!-- Main Content -->
                

    <h1>Expand the Root Partition in Kali Linux for the Raspberry Pi</h1>



<!-- Gallery -->


<!-- Content -->
<p>By default when Kali Linux for the Rapsberry Pi is installed the file system will only expand to occupy 3GB of storage, in my case I have a 16GB Micro SD card in my Raspberry Pi 2 with most of its capacity unused. One can easily expand the file system by making use of a script that automatically does the job for you. File system after install.</p>
<p>root@kali:~# df -h</p>
<p>Filesystem      Size  Used Avail Use% Mounted on<br>rootfs          2.9G  1.5G  1.2G  56% /<br>/dev/root       2.9G  1.5G  1.2G  56% /<br>devtmpfs        460M     0  460M   0% /dev<br>tmpfs            93M  468K   93M   1% /run<br>tmpfs           5.0M     0  5.0M   0% /run/lock<br>tmpfs           186M     0  186M   0% /run/shm</p>
<p>I should note I did not create the script and found it at the following address <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="http://www.raspberryvi.org/wiki/doku.php/raspi-expand-rootfs" >http://www.raspberryvi.org/wiki/doku.php/raspi-expand-rootfs</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> but it has proven useful. Download the script into the boot directory. Locally hosted.</p>
<p>root@kali:~# wget -O /boot/raspi-expand-rootfs.sh <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="http://dl.linhost.info/file1/raspi-expand-rootfs.sh" >http://dl.linhost.info/file1/raspi-expand-rootfs.sh</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></p>
<p>Now we make the script executable.</p>
<p>root@kali:~# chmod +x /boot/raspi-expand-rootfs.sh</p>
<p>And execute the script. Donâ€™t be scared by the output.</p>
<p>root@kali:~# sh /boot/raspi-expand-rootfs.sh</p>
<p>Command (m for help):<br>Disk /dev/mmcblk0: 15.9 GB, 15931539456 bytes<br>4 heads, 16 sectors/track, 486192 cylinders, total 31116288 sectors<br>Units = sectors of 1 * 512 = 512 bytes<br>Sector size (logical/physical): 512 bytes / 512 bytes<br>I/O size (minimum/optimal): 512 bytes / 512 bytes<br>Disk identifier: 0x000697c0</p>
<pre><code>    Device Boot      Start         End      Blocks   Id  System</code></pre>
<p>/dev/mmcblk0p1               1      125000       62500    c  W95 FAT32 (LBA)<br>/dev/mmcblk0p2          125001     6143999     3009499+  83  Linux</p>
<p>Command (m for help): Partition number (1-4):<br>Command (m for help): Partition type:<br>   p   primary (1 primary, 0 extended, 3 free)<br>   e   extended<br>Select (default p): Partition number (1-4, default 2): First sector (125001-31116287, default 125001): Last sector, +sectors or +size{K,M,G} (125001-31116287, default 31116287): Using default value 31116287</p>
<p>Command (m for help):<br>Disk /dev/mmcblk0: 15.9 GB, 15931539456 bytes<br>4 heads, 16 sectors/track, 486192 cylinders, total 31116288 sectors<br>Units = sectors of 1 * 512 = 512 bytes<br>Sector size (logical/physical): 512 bytes / 512 bytes<br>I/O size (minimum/optimal): 512 bytes / 512 bytes<br>Disk identifier: 0x000697c0</p>
<pre><code>    Device Boot      Start         End      Blocks   Id  System</code></pre>
<p>/dev/mmcblk0p1               1      125000       62500    c  W95 FAT32 (LBA)<br>/dev/mmcblk0p2          125001    31116287    15495643+  83  Linux</p>
<p>Command (m for help): The partition table has been altered!</p>
<p>Calling ioctl() to re-read partition table.</p>
<p>WARNING: Re-reading the partition table failed with error 16: Device or resource busy.<br>The kernel still uses the old table. The new table will be used at<br>the next reboot or after you run partprobe(8) or kpartx(8)<br>Syncing disks.<br>update-rc.d: using dependency based boot sequencing<br>update-rc.d: warning: default start runlevel arguments (2 3 4 5) do not match resize2fs_once Default-Start values (2 3 4 5 S)<br>update-rc.d: warning: default stop runlevel arguments (0 1 6) do not match resize2fs_once Default-Stop values (none)<br>Root partition has been resized. The filesystem will be enlarged upon the next reboot</p>
<p>It is necessary to reboot the OS for the changes to take effect.</p>
<p>root@kali:~# reboot</p>
<p>Once again us the <strong>df</strong> command to verify the file system successfully expanded.</p>
<p>root@kali:~# df -h</p>
<p>Filesystem      Size  Used Avail Use% Mounted on<br>rootfs           15G  1.5G   13G  11% /<br>/dev/root        15G  1.5G   13G  11% /<br>devtmpfs        460M     0  460M   0% /dev<br>tmpfs            93M  468K   93M   1% /run<br>tmpfs           5.0M  4.0K  5.0M   1% /run/lock<br>tmpfs           186M     0  186M   0% /run/shm</p>
<p>If you like you can remove the script from the <strong>/boot</strong> directory.</p>
<p>root@kali:~# rm /boot/raspi-expand-rootfs.sh</p>


<!-- Tags -->



<div class="tags">
    
</div>



<!-- Comments -->
<div>
    
    <hr />
    <h3>Comments:</h3>
    <div id="disqus_thread">
        <noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>



</div>



            </div>
        </div>

        <!-- Footer -->
<footer id="footer">
    <div class="inner">
        <section>
            <h2>About</h2>
            <div>
                This theme was initially developed by <a href="http://html5up.net" target="_blank">HTML5 UP</a>. It is adapted for Hexo by <a href="http://www.codeblocq.com/" target="_blank">Jonathan Klughertz</a>.<br />The source code is available on <a href="https://github.com/klugjo/hexo-theme-phantom" target="_blank">GitHub</a>.
            </div>
        </section>
        <section>
            <h2>Follow</h2>
            <ul class="icons">
                
                    <li><a href="https://twitter.com/?lang=en" class="icon style2 fa-twitter" target="_blank" ><span class="label">Twitter</span></a></li>
                
                
                    <li><a href="https://www.facebook.com/" class="icon style2 fa-facebook" target="_blank" ><span class="label">Facebook</span></a></li>
                
                
                    <li><a href="https://www.instagram.com/" class="icon style2 fa-instagram" target="_blank" ><span class="label">Instagram</span></a></li>
                
                
                    <li><a href="https://dribbble.com/" class="icon style2 fa-dribbble" target="_blank" ><span class="label">Dribbble</span></a></li>
                
                
                    <li><a href="https://github.com/klugjo/hexo-theme-phantom/commits?author=klugjo" class="icon style2 fa-github" target="_blank" ><span class="label">GitHub</span></a></li>
                
                
                    <li><a href="https://plus.google.com/" class="icon style2 fa-google-plus" target="_blank" ><span class="label">Google+</span></a></li>
                
                
                    <li><a href="https://www.behance.net/" class="icon style2 fa-behance" target="_blank" ><span class="label">Behance</span></a></li>
                
                
                    <li><a href="https://500px.com/" class="icon style2 fa-500px" target="_blank" ><span class="label">500px</span></a></li>
                
                
                    <li><a href="\#" class="icon style2 fa-envelope-o" target="_blank" ><span class="label">Email</span></a></li>
                
                
                    <li><a href="\#" class="icon style2 fa-rss" target="_blank" ><span class="label">RSS</span></a></li>
                
            </ul>
        </section>
        <ul class="copyright">
            <li>&copy; Untitled. All rights reserved</li>
            <li>Design: <a href="http://html5up.net" target="_blank">HTML5 UP</a></li>
            <li>Hexo: <a href="http://www.codeblocq.com/" target="_blank">Jonathan Klughertz</a></li>
        </ul>
    </div>
</footer>
    </div>

    <!-- After footer scripts -->
    
<!-- jQuery -->

<script src="/js/jquery.min.js"></script>


<!-- skel -->

<script src="/js/skel.min.js"></script>


<!-- Custom Code -->

<script src="/js/util.js"></script>


<!--[if lte IE 8]>

<script src="/js/ie/respond.min.js"></script>

<![endif]-->

<!-- Custom Code -->

<script src="/js/main.js"></script>


<!-- Gallery -->
<script src="//cdn.rawgit.com/noelboss/featherlight/1.3.5/release/featherlight.min.js" type="text/javascript" charset="utf-8"></script>

<!-- Disqus Comments -->

<script type="text/javascript">
    var disqus_shortname = 'klugjo';

    (function(){
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>


</body>

</html>