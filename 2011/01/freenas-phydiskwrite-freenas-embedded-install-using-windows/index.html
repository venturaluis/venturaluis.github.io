<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Windows: FreeNAS Embedded Installation | Linhost.info</title>
  
  
  <meta name="description" content="site, site">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="generator" content="Hexo 2.6.0"/>

  <meta property="og:title" content="Windows: FreeNAS Embedded Installation"/>
  <meta property="og:site_name" content="Linhost.info"/>

  
    <meta property="og:image" content=""/>
  

  <link href="/favicon.png" rel="shortcut icon">

  
    <link rel="stylesheet" href="/css/highlightjs/github.css">
  
  <script src="/js/highlight.pack.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>

  <link rel="alternate" href="/atom.xml" title="Linhost.info" type="application/atom+xml">

  <link href="/css/site.css" rel="stylesheet">
  <script type="text/javascript" src="/js/jquery.min.js"></script>
  <script type="text/javascript" src="/js/jquery.caption.min.js"></script>
  <link href="/css/captionjs.min.css" rel="stylesheet"/>
  <script type="text/javascript" src="/js/ewal.js"></script>

  
  




</head>

<body>
  

<div class="navbar navbar-default navbar-static-top">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/"><span class="text-primary">Linhost.info</span></a>
    </div>
    <div class="collapse navbar-collapse navbar-right">
      <ul class="nav navbar-nav">
        
      </ul>
      <ul class="nav navbar-nav pull-right">
      
      
      
      
      </ul>
    </div>
  </div>
</div>


  <div class="container">
    <div class="row">
      <div><article class="post">
  
    
  
    <h1 class="title">Windows: FreeNAS Embedded Installation</h1>
  

    <div class="post-date">
      <time datetime="2011-01-24T04:21:35.000Z">2011-01-23</time>
    </div>
  
  <div class="post-content">
    
      <p>FreeNAS is available for download in two forms .ISO and .IMG. If all you want to do is try FreeNAS and possibly install then you should download the ISO. The .IMG is intended for embedded installs like the kind of install you do in USB flash drive or compact flash card. The thing about the embedded install is that unlike the .ISO the .IMG file includes no installer. Instead the user is expected to make use of third party tools to complete the installation. <strong>Before we can start the tutorial you will need the following:</strong></p>
<ul>
<li><a target="_blank" rel="noopener" href="http://freenas.org/#downloads">FreeNAS .IMG</a> (61MB file)</li>
<li>USB Flash drive or Compact Flash card larger than the .IMG file</li>
<li><a target="_blank" rel="noopener" href="http://m0n0.ch/wall/physdiskwrite.php">physdiskwrite</a> (3rd party tool), this is what will write the image</li>
</ul>
<p>Nix* users have DD to write images, in the case of Windows the closest tool available is physdiskwrite. With <a target="_blank" rel="noopener" href="http://m0n0.ch/wall/physdiskwrite.php">physdiskwrite</a> we can write the raw image to the storage media. Physdiskwrite is a command line tool, I will try my best to guide you trugh the commands. At the time of this tutorial the latest release for i386 is <em>FreeNAS-i386-embedded-0.7.2.5543.img</em>. <strong>I will break the tutorial in to two parts:</strong></p>
<ol>
<li>We will use Diskpart a windows tools that in this case will help us clean the storage media. Not performing this steps may perform in errors</li>
<li>Write the image with the help of Physdiskwrite</li>
</ol>
<h2 id="Working-With-Diskpart"><a href="#Working-With-Diskpart" class="headerlink" title="Working With Diskpart"></a>Working With Diskpart</h2><p>I recommend following the Diskpart steps below to avoid errors that may come up when writing the image. The steps below will clear the drive you intend to use for the installation. Open a command line window and type: <strong>Diskpart</strong> <img src="http://lh4.ggpht.com/_fF0LO28FGYY/TSQ-9S_akFI/AAAAAAAAC2I/ifSqOggXh_g/s800/diskpart-1.png"> Now list of all available drives: <strong>list disk</strong> <img src="http://lh3.ggpht.com/_fF0LO28FGYY/TSQ-9QjhI4I/AAAAAAAAC2M/7hpaSIDO60E/s800/diskpart-2.png"> The USB drive intend to use for the installation is listed as disk 3, select it: <strong>select disk 3</strong> <img src="http://lh5.ggpht.com/_fF0LO28FGYY/TSQ-9gAu7rI/AAAAAAAAC2Q/1x6aYJXPfo8/s800/diskpart-3.png"> And clean it by typing: <strong>clean</strong> <img src="http://lh3.ggpht.com/_fF0LO28FGYY/TSQ-9pQ8blI/AAAAAAAAC2U/0OGg8on2h9k/s800/diskpart-4.png"> Once the process is complete type: <strong>exit</strong> <img src="http://lh4.ggpht.com/_fF0LO28FGYY/TSQ_B59coDI/AAAAAAAAC2o/x-IWAHYaRBY/s800/diskpart-9.png"></p>
<h2 id="Write-The-Image-With-Physdiskwrite"><a href="#Write-The-Image-With-Physdiskwrite" class="headerlink" title="Write The Image With Physdiskwrite"></a>Write The Image With Physdiskwrite</h2><p>For the sake of simplicity I recommend placing both <em>Physdiskwrite.exe</em> and <em>FreeNAS-i386-embedded-x.x.x.xxxx.img</em> in the same folder. Open the command line and CD(move) to the location where the Physdiskwrite and the .img file are located. Type the command below to find the drive:</p>
<p>C:UsersLuisDocumentsIMG&gt;physdiskwrite.exe -u FreeNAS-i386-embedded-0.7.2.554.img<br>3.img</p>
<p>physdiskwrite v0.5.2 by Manuel Kasper Searching for physical drivesâ€¦</p>
<p>Information for .PhysicalDrive0:<br>   Windows:       cyl: 77825<br>                  tpc: 255<br>                  spt: 63<br>   C/H/S:         16383/16/63<br>   Model:         WDC WD6401AALS-00J7B1<br>   Serial number:      WD-WMATV3658664<br>   Firmware rev.: 05.00K05</p>
<p>Information for .PhysicalDrive1:<br>   Windows:       cyl: 121601<br>                  tpc: 255<br>                  spt: 63<br>   C/H/S:         16383/16/63<br>   Model:         WDC WD10EALS-00Z8A0<br>   Serial number:      WD-WCATR0751123<br>   Firmware rev.: 05.01D05</p>
<p>Information for .PhysicalDrive2:<br>   Windows:       cyl: 60801<br>                  tpc: 255<br>                  spt: 63<br>   C/H/S:         16383/16/63<br>   Model:         WDC WD5001AALS-00L3B2<br>   Serial number:      WD-WMASZ0056513<br>   Firmware rev.: 01.03B01</p>
<p>Information for .PhysicalDrive3:<br>   Windows:       cyl: 62<br>                  tpc: 255<br>                  spt: 63 </p>
<p>The output above tells us that PhysicalDrive3 is the removable drive. Which is why we select drive number 3 to write the image to.</p>
<p>Which disk do you want to write? (0..3) 3</p>
<p>Confirm you want to overwrite by typing <strong>Y</strong>.</p>
<p>About to overwrite the contents of disk 3 with new data. Proceed? (y/n) y<br>Found compressed image file<br>75350016/75350016 bytes written in total</p>
<p>Once the process is done close the terminal window. The image is now in the Flash drive.</p>
<h2 id="Other-Steps"><a href="#Other-Steps" class="headerlink" title="Other Steps"></a>Other Steps</h2><p>Keep in mind that in order to boot from a Flash drive you need to set the BIOS to boot from removable media. <img src="http://lh4.ggpht.com/_fF0LO28FGYY/TT0CgnSULYI/AAAAAAAAC5I/6uW8n6M3N80/s800/BIOS.png" alt="BIOS"> <img src="http://lh3.ggpht.com/_fF0LO28FGYY/TT0JGhIPmhI/AAAAAAAAC5Q/EgsZDL9n50I/s800/freenas.png" alt="FreeNAS"></p>

    
  </div>
  
    
  
  <div class="categories">
    <a href="/categories/Article/">Article</a>
  </div>


    
  
  <div class="tags">
    <a href="/tags/freebsd/">freebsd</a>, <a href="/tags/NAS/">NAS</a>, <a href="/tags/freenas/">freenas</a>
  </div>

  
  <div class="addthis_toolbox addthis_default_style 
addthis_32x32_style" data-addthis-url="http://linhost.info/2011/01/freenas-phydiskwrite-freenas-embedded-install-using-windows/" data-addthis-title="Windows: FreeNAS Embedded Installation">
<a class="addthis_button_preferred_1"></a>
<a class="addthis_button_preferred_2"></a>
<a class="addthis_button_preferred_3"></a>
<a class="addthis_button_preferred_4"></a>
<a class="addthis_button_compact"></a>
<a class="addthis_counter addthis_bubble_style"></a>
</div>
  
    <ul class="next_prev">
      
        <li class="prev">
        <a class="btn btn-success" role="button" href="/2010/12/symantec-endpoint-protection-offline-update/">
          Previous
        </a></li>
      
      
        <li class="next">
        <a class="btn btn-success" role="button" href="/2011/01/windows-how-to-compact-a-dynamic-vhd/">
          Next
        </a></li>
      
    </ul>
  
  

</article>
</div>
    </div>
  </div>
  <div id="push"></div>
  <div class="navbar navbar-footer">
  <div class="container">
    <p class="navbar-center navbar-text">
      
      &copy; 2020 Linhost.info
      
    </p>
  </div>
</div>
  <script src="/js/bootstrap.min.js"></script>

<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-3282416-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>






</body>
</html>