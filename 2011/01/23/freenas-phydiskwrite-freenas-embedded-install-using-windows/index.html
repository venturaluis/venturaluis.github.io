<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title>Windows: FreeNAS Embedded Installation | Linhost.info</title><meta name="description" content="Windows: FreeNAS Embedded Installation - Moody Gent"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/theme.css"><link rel="search" type="application/opensearchdescription+xml" href="/atom.xml" title="Linhost.info"><meta name="generator" content="Hexo 5.0.0"><link rel="alternate" href="/atom.xml" title="Linhost.info" type="application/atom+xml">
</head><body><div class="wrap"><header><h1 class="branding"><a href="/" title="Linhost.info">Linhost.info</a></h1><ul class="nav nav-list"><li class="nav-list-item"><a class="nav-list-link" href="/" target="_self">HOME</a></li><li class="nav-list-item"><a class="nav-list-link" href="/archives" target="_self">ARCHIVES</a></li><li class="nav-list-item"><a class="nav-list-link" href="https://github.com/Dreyer" target="_blank">GITHUB</a></li><li class="nav-list-item"><a class="nav-list-link" href="/atom.xml" target="_self">RSS</a></li><li class="nav-list-item"><a class="nav-list-link" href="/VM" target="_self">VM</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">Windows: FreeNAS Embedded Installation</h1><div class="post-info"><a></a>2011-01-23</div><div class="post-content"><p>FreeNAS is available for download in two forms .ISO and .IMG. If all you want to do is try FreeNAS and possibly install then you should download the ISO. The .IMG is intended for embedded installs like the kind of install you do in USB flash drive or compact flash card. The thing about the embedded install is that unlike the .ISO the .IMG file includes no installer. Instead the user is expected to make use of third party tools to complete the installation. <strong>Before we can start the tutorial you will need the following:</strong></p>
<ul>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="http://freenas.org/#downloads" >FreeNAS .IMG</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> (61MB file)</li>
<li>USB Flash drive or Compact Flash card larger than the .IMG file</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="http://m0n0.ch/wall/physdiskwrite.php" >physdiskwrite</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> (3rd party tool), this is what will write the image</li>
</ul>
<p>Nix* users have DD to write images, in the case of Windows the closest tool available is physdiskwrite. With <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="http://m0n0.ch/wall/physdiskwrite.php" >physdiskwrite</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> we can write the raw image to the storage media. Physdiskwrite is a command line tool, I will try my best to guide you trugh the commands. At the time of this tutorial the latest release for i386 is <em>FreeNAS-i386-embedded-0.7.2.5543.img</em>. <strong>I will break the tutorial in to two parts:</strong></p>
<ol>
<li>We will use Diskpart a windows tools that in this case will help us clean the storage media. Not performing this steps may perform in errors</li>
<li>Write the image with the help of Physdiskwrite</li>
</ol>

        <h2 id="Working-With-Diskpart"   >
          <a href="#Working-With-Diskpart" class="heading-link"><i class="fas fa-link"></i></a>Working With Diskpart</h2>
      <p>I recommend following the Diskpart steps below to avoid errors that may come up when writing the image. The steps below will clear the drive you intend to use for the installation. Open a command line window and type: <strong>Diskpart</strong> <img src="http://lh4.ggpht.com/_fF0LO28FGYY/TSQ-9S_akFI/AAAAAAAAC2I/ifSqOggXh_g/s800/diskpart-1.png"> Now list of all available drives: <strong>list disk</strong> <img src="http://lh3.ggpht.com/_fF0LO28FGYY/TSQ-9QjhI4I/AAAAAAAAC2M/7hpaSIDO60E/s800/diskpart-2.png"> The USB drive intend to use for the installation is listed as disk 3, select it: <strong>select disk 3</strong> <img src="http://lh5.ggpht.com/_fF0LO28FGYY/TSQ-9gAu7rI/AAAAAAAAC2Q/1x6aYJXPfo8/s800/diskpart-3.png"> And clean it by typing: <strong>clean</strong> <img src="http://lh3.ggpht.com/_fF0LO28FGYY/TSQ-9pQ8blI/AAAAAAAAC2U/0OGg8on2h9k/s800/diskpart-4.png"> Once the process is complete type: <strong>exit</strong> <img src="http://lh4.ggpht.com/_fF0LO28FGYY/TSQ_B59coDI/AAAAAAAAC2o/x-IWAHYaRBY/s800/diskpart-9.png"></p>

        <h2 id="Write-The-Image-With-Physdiskwrite"   >
          <a href="#Write-The-Image-With-Physdiskwrite" class="heading-link"><i class="fas fa-link"></i></a>Write The Image With Physdiskwrite</h2>
      <p>For the sake of simplicity I recommend placing both <em>Physdiskwrite.exe</em> and <em>FreeNAS-i386-embedded-x.x.x.xxxx.img</em> in the same folder. Open the command line and CD(move) to the location where the Physdiskwrite and the .img file are located. Type the command below to find the drive:</p>
<p>C:UsersLuisDocumentsIMG&gt;physdiskwrite.exe -u FreeNAS-i386-embedded-0.7.2.554.img<br>3.img</p>
<p>physdiskwrite v0.5.2 by Manuel Kasper Searching for physical drivesâ€¦</p>
<p>Information for .PhysicalDrive0:<br>   Windows:       cyl: 77825<br>                  tpc: 255<br>                  spt: 63<br>   C/H/S:         16383/16/63<br>   Model:         WDC WD6401AALS-00J7B1<br>   Serial number:      WD-WMATV3658664<br>   Firmware rev.: 05.00K05</p>
<p>Information for .PhysicalDrive1:<br>   Windows:       cyl: 121601<br>                  tpc: 255<br>                  spt: 63<br>   C/H/S:         16383/16/63<br>   Model:         WDC WD10EALS-00Z8A0<br>   Serial number:      WD-WCATR0751123<br>   Firmware rev.: 05.01D05</p>
<p>Information for .PhysicalDrive2:<br>   Windows:       cyl: 60801<br>                  tpc: 255<br>                  spt: 63<br>   C/H/S:         16383/16/63<br>   Model:         WDC WD5001AALS-00L3B2<br>   Serial number:      WD-WMASZ0056513<br>   Firmware rev.: 01.03B01</p>
<p>Information for .PhysicalDrive3:<br>   Windows:       cyl: 62<br>                  tpc: 255<br>                  spt: 63 </p>
<p>The output above tells us that PhysicalDrive3 is the removable drive. Which is why we select drive number 3 to write the image to.</p>
<p>Which disk do you want to write? (0..3) 3</p>
<p>Confirm you want to overwrite by typing <strong>Y</strong>.</p>
<p>About to overwrite the contents of disk 3 with new data. Proceed? (y/n) y<br>Found compressed image file<br>75350016/75350016 bytes written in total</p>
<p>Once the process is done close the terminal window. The image is now in the Flash drive.</p>

        <h2 id="Other-Steps"   >
          <a href="#Other-Steps" class="heading-link"><i class="fas fa-link"></i></a>Other Steps</h2>
      <p>Keep in mind that in order to boot from a Flash drive you need to set the BIOS to boot from removable media. <img src="http://lh4.ggpht.com/_fF0LO28FGYY/TT0CgnSULYI/AAAAAAAAC5I/6uW8n6M3N80/s800/BIOS.png" alt="BIOS"> <img src="http://lh3.ggpht.com/_fF0LO28FGYY/TT0JGhIPmhI/AAAAAAAAC5Q/EgsZDL9n50I/s800/freenas.png" alt="FreeNAS"></p>
</div></article></div></main><footer><div class="paginator"><a class="prev" href="/2011/01/24/windows-how-to-compact-a-dynamic-vhd/">prev</a><a class="next" href="/2010/12/26/symantec-endpoint-protection-offline-update/">next</a></div><div class="copyright"><p>&copy; 2016 - 2020 <a target="_blank" rel="noopener" href="https://www.example.org/john-doe">John Doe</a>.<br>Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> &amp; <a href="https://github.com/Dreyer/hexo-theme-artemis" target="_blank">Artemis</a>.</p></div></footer></div><script>var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-12345678-9']);
_gaq.push(['_trackPageview']);

(function () {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();</script></body></html>